## π“Β μ „λµ ν¨ν„΄

---


π’΅ μ „λµ ν¨ν„΄μ€ λ³€ν•μ§€ μ•λ” λ¶€λ¶„μ„ `Context` λΌλ” κ³³μ— λ‘”λ‹¤.

λ³€ν•λ” λ¶€λ¶„μ„ `Strategy` λΌλ” μΈν„°νμ΄μ¤λ¥Ό λ§λ“¤κ³  ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ„λ΅ ν•΄ ν•΄κ²°.

μƒμ†μ΄ μ•„λ‹λΌ **μ„μ„**μΌλ΅ λ¬Έμ λ¥Ό ν•΄κ²°!!!



<img width="405" alt="image" src="https://user-images.githubusercontent.com/74031333/218082026-7bfc1622-5eaa-479d-8327-9ab94ec162fc.png">

- ***Context*** : λ³€ν•μ§€ μ•λ” ν…ν”λ¦Ώ μ—­ν• 
- ***Strategy*** : λ³€ν•λ” μ•κ³ λ¦¬μ¦ μ—­ν• 

<br/>  

**Strategy interface**

```java
public interface Strategy {

  void call();

}
```

**StrategyLogic**

```java
@Slf4j
public class StrategyLogic1 implements Strategy {

  @Override
  public void call() {
    log.info("λΉ„μ¦λ‹μ¤ λ΅μ§1 μ‹¤ν–‰");
  }
}
```

**Context**

```java
@Slf4j
public class ContextV1 {

  private Strategy strategy;

  public ContextV1(Strategy strategy) {
    this.strategy = strategy;
  }

  public void execute() {
    long startTime = System.currentTimeMillis();
    //λΉ„μ¦λ‹μ¤ λ΅μ§ μ‹¤ν–‰
    strategy.call();
    // λ΅μ§ μΆ…λ£
    long endTime = System.currentTimeMillis();
    long resultTime = endTime - startTime;
    log.info("resultTime = {}", resultTime);
  }

}
```

> **π“–Β ν•µμ‹¬**
>
> - Contextλ” Strategy μΈν„°νμ΄μ¤λ¥Ό μ£Όμ…λ°›λ”λ‹¤.
> - Context λ” Strategy μΈν„°νμ΄μ¤μ—λ§ μμ΅΄ν•λ‹¤.
    >     - Strategy κµ¬ν„μ²΄λ¥Ό λ³€κ²½ν•κ±°λ‚ μƒλ΅ λ§λ“¤μ–΄λ„ Context μ½”λ“μ— μν–¥μ„ μ£Όμ§€ μ•λ”λ‹¤.

**β—Β μ¤ν”„λ§μ—μ„ μμ΅΄κ΄€κ³„ μ£Όμ…μ„ λ°›λ” λ°©μ‹μ΄ λ°”λ΅ μ „λµν¨ν„΄μ΄λ‹¤.**

**μ‚¬μ©**

``` java
  @Test
  void strategyV1() {
    StrategyLogic1 strategyLogic1 = new StrategyLogic1();

    ContextV1 context1 = new ContextV1(strategyLogic1);
    context1.execute();;

    StrategyLogic2 strategyLogic2 = new StrategyLogic2();

    ContextV1 context2 = new ContextV1(strategyLogic2);
    context2.execute();;
  }
```

- Context μ— Strategy κµ¬ν„μ²΄λ¥Ό μ£Όμ…!!!
- Contextμ— μ›ν•λ” μ „λµμ„ μ£Όμ…ν• ν›„ μ΅°λ¦½μ„ μ™„λ£ν• ν›„ μ‹¤ν–‰

## β οΈμ „λµ ν¨ν„΄ λ‹¨μ 

---

μ „λµ ν¨ν„΄μ€ μ‹¤ν–‰ μ „μ— μ›ν•λ” λ¨μ–‘μΌλ΅ μ΅°λ¦½ν•κ³  Contextλ¥Ό μ‚¬μ©ν•λ©΄ λλ‹¤.

- Contextμ λ‚΄λ¶€ ν•„λ“μ— Strategyλ¥Ό λ‘κ³  μ‚¬μ©

**λ‹¨μ **

- Contextμ™€ Strategyλ¥Ό ν• λ² μ΅°λ¦½ν•κ³  λ‚ ν›„ μ „λµμ„ λ³€κ²½ν•κΈ° λ²κ±°λ΅­λ‹¤.
- Contextλ¥Ό μ‹±κΈ€ν†¤μΌλ΅ μ‚¬μ©ν•  λ•λ” λ™μ‹μ„± μ΄μ λ“±μ„ κ³ λ ¤ν•  μ μ΄ λ§λ‹¤.

λ¨Όμ € μ΅°λ¦½ν•΄ μ‚¬μ©ν•λ” λ°©λ²•λ³΄λ‹¤ λ” μ μ—°ν•κ² μ „λµν¨ν„΄μ„ μ‚¬μ©ν•λ” λ°©λ²•β“

## π“Β μ μ—°ν• μ „λµ ν¨ν„΄

---

Context ν•„λ“μ— Strategyλ¥Ό μ£Όμ…ν•΄μ„ μ‚¬μ©ν•λ” λ°©μ‹μ΄ μ•„λ‹ λ‹¤λ¥Έ λ°©μ‹μ„ μ‚¬μ©

### μ „λµμ„ μ‹¤ν–‰ν•  λ• μ§μ ‘ νλΌλ―Έν„°λ΅ μ „λ‹¬ν•λ” λ°©μ‹

```java
/**
 * μ „λµμ„ νλΌλ―Έν„°λ΅ μ „λ‹¬.
 */
@Slf4j
public class ContextV2 {
  
  public void execute(Strategy strategy) {
    long startTime = System.currentTimeMillis();
    //λΉ„μ¦λ‹μ¤ λ΅μ§ μ‹¤ν–‰
    strategy.call();
    // λ΅μ§ μΆ…λ£
    long endTime = System.currentTimeMillis();
    long resultTime = endTime - startTime;
    log.info("resultTime = {}", resultTime);
  }

}
```

**test**

```  java
  @Test
  void strategyV1() {
    ContextV2 context = new ContextV2();

    context.execute(new StrategyLogic1());
    context.execute(new StrategyLogic2());
  }
```

- μ‹¤ν–‰ν•λ” μ‹μ μ— κ·Έλ• κ·Έλ• μ „λµμ„ μ „λ‹¬ν•μ—¬ μ‹¤ν–‰
- ν•λ‚μ μ»¨ν…μ¤νΈλ΅ μ—¬λ¬ μ „λµμ„ μ μ—°ν•κ² μ‹¤ν–‰ν•  μ μλ‹¤.


## μ •λ¦¬  
μ „λµ ν¨ν„΄μ€ ν…ν”λ¦Ώ λ©”μ„λ“ ν¨ν„΄κ³Ό λ‹¬λ¦¬ μƒμ†μ΄ μ•„λ‹ μ„μ„μ„ μ‚¬μ©ν•λ‹¤.  
μ „λµμ„ μ£Όμ…λ°›λ” λ°©μ‹μ΄λ‚ νλΌλ―Έν„°λ΅ μ „λ‹¬ν•λ” λ°©μ‹μ¤‘ κ²½μ°μ— λ”°λΌμ„ μ‚¬μ©ν•μ.