## [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤] ìˆ«ìíƒ€ìëŒ€íšŒ

[ìˆ«ìíƒ€ìëŒ€íšŒ](https://school.programmers.co.kr/learn/courses/30/lessons/136797)

### ì½”ë“œ

```java
import java.util.*;

class Solution {

  private int[][] numberPad = {
      {1, 2, 3}, {4, 5, 6}, {7, 8, 9}, {-1, 0, -1}
  };
  private static int[][] cost;
  private static int answer;
  private static int[][][] dp;

  public int solution(String numbers) {
    answer = 987654321;
    cost = new int[10][10];
    int len = numbers.length();
    dp = new int[len + 1][10][10];
    int[] dx = {-1, 1, 0, 0, -1, -1, 1, 1};
    int[] dy = {0, 0, -1 ,1, -1, 1, -1, 1};

    for(int i = 0; i <= len; i++) {
      for(int j = 0; j < 10; j++) {
        Arrays.fill(dp[i][j], -1);
      }
    }

    // ìê¸° ìì‹ ì„ ëˆ„ë¥´ëŠ” ê²½ìš°ëŠ” ê°€ì¤‘ì¹˜ê°€ 1
    for(int i = 0; i < 10; i++) {
      for(int j = 0; j < 10; j++) {
        if(i == j) cost[i][j] = 1;
        else cost[i][j] = 987654321;
      }
    }

    // i -> j ê°€ëŠ” ìµœì†Œ ê°€ì¤‘ì¹˜ êµ¬í•´ë†“ê¸°.
    for(int i = 0; i < numberPad.length; i++) {
      for(int j = 0; j < numberPad[i].length; j++) {
        int startNumber = numberPad[i][j];
        if(startNumber == -1) continue;

        // ì¸ì ‘í•œ ê²½ìš° ê°€ì¤‘ì¹˜ 2
        for(int z = 0; z < 4; z++) {
          int nx = i + dx[z];
          int ny = j + dy[z];

          if(nx < 0 || nx >= numberPad.length || ny < 0 || ny >= numberPad[i].length) continue;

          int targetNumber = numberPad[nx][ny];

          if(targetNumber == -1) continue;
          cost[startNumber][targetNumber] = 2;
        }
        // ëŒ€ê°ì„ ì˜ ê²½ìš° ê°€ì¤‘ì¹˜ 3
        for(int z = 4; z < 8; z++) {
          int nx = i + dx[z];
          int ny = j + dy[z];

          if(nx < 0 || nx >= numberPad.length || ny < 0 || ny >= numberPad[i].length) continue;
          int targetNumber = numberPad[nx][ny];
          if(targetNumber == -1) continue;
          cost[startNumber][targetNumber] = 3;
        }
      }
    }

    // ê° ìˆ«ìê°„ ìµœì†Œ ê°€ì¤‘ì¹˜ë¥¼ êµ¬í•´ë†“ìŒ.(í”Œë¡œì´ë“œì™€ìƒ¬)
    for(int i = 0; i < cost.length; i++) {
      for(int j = 0; j < cost.length; j++) {
        for(int z = 0; z < cost.length; z++) {
          cost[j][z] = Math.min(cost[j][z], cost[j][i] + cost[i][z]);
        }
      }
    }

    answer = dfs(0, numbers, 4, 6);
    return answer;
  }

  private int dfs(int index, String number, int left, int right) {

    // ë§ˆì§€ë§‰ ë²ˆí˜¸ê¹Œì§€ ëª¨ë‘ í™•ì¸í•œ ê²½ìš°
    if(index == number.length()) {
      return 0;
    }
    // ì´ë¯¸ í•´ë‹¹ ê²½ìš°ë¥¼ í™•ì¸í•œ ê²½ìš°.
    if(dp[index][left][right] != -1) return dp[index][left][right];

    int nextNumber = number.charAt(index) - '0';

    // í•´ë‹¹ ìˆ«ìë¡œ ê°€ëŠ”ë° ìµœì†Œí•œì˜ ì‹œê°„
    int rtn = 987654321;

    // ê° í˜„ì¬ ì†ê°€ë½ì˜ ìœ„ì¹˜ì— ë”°ë¥¸ ê±¸ë¦¬ëŠ” ì‹œê°„
    int leftCost = cost[left][nextNumber];
    int rightCost = cost[right][nextNumber];

    // ì™¼ì†ê°€ë½ ì‚¬ìš©
    if(nextNumber != right) rtn = Math.min(dfs(index + 1, number, nextNumber, right) + leftCost, rtn);

    // ì˜¤ë¥¸ìª½ ì†ê°€ë½ ì‚¬ìš©
    if(nextNumber != left) rtn = Math.min(dfs(index + 1, number, left, nextNumber) + rightCost, rtn);

    return dp[index][left][right] = rtn;
  }

}
```

### ğŸ“–Â í•´ê²°ë°©ë²•

