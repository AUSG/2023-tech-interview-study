## [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤] ë² ìŠ¤íŠ¸ì•¨ë²”

[ë² ìŠ¤íŠ¸ì•¨ë²”](https://school.programmers.co.kr/learn/courses/30/lessons/42579)

### ì½”ë“œ

```java
import java.util.*;

class Solution {
  public int[] solution(String[] genres, int[] plays) {
    List<Integer> answer = new ArrayList<>();

    Map<String, Genre> genreMap = new HashMap<>();
    List<Genre> genreList = new ArrayList<>();

    for(int i = 0; i < genres.length; i++) {

      String genreName = genres[i];

      Genre genre = genreMap.getOrDefault(genreName, new Genre());
      Song song = new Song(i, plays[i]);
      genre.addSong(song);
      genreMap.put(genreName, genre);
    }
    for(String genreName : genreMap.keySet()) {

      Genre genre = genreMap.get(genreName);
      Collections.sort(genre.songList, new Comparator<>() {
        public int compare(Song s1, Song s2) {
          if(s1.playCount == s2.playCount) {
            return s1.id - s2.id;
          }
          return s2.playCount - s1.playCount;
        }
      });
      genreList.add(genre);
    }

    Collections.sort(genreList, new Comparator<>() {
      public int compare(Genre g1, Genre g2) {
        return g2.totalCount - g1.totalCount;
      }
    });

    for(int i = 0; i < genreList.size(); i++) {
      List<Song> songList = genreList.get(i).songList;
      answer.add(songList.get(0).id);
      if(songList.size() > 1) answer.add(songList.get(1).id);
    }

    // List -> int[]
    return answer.stream().mapToInt(Integer::intValue).toArray();
  }

  private class Genre {
    int totalCount;
    List<Song> songList;

    Genre() {
      this.totalCount = 0;
      this.songList = new ArrayList<>();
    }

    public void addSong(Song song) {
      songList.add(song);
      totalCount += song.playCount;
    }
  }

  private class Song {
    int id;
    int playCount;

    Song (int id, int playCount) {
      this.id = id;
      this.playCount = playCount;
    }

  }

}
```

### ğŸ“–Â í•´ê²°ë°©ë²•

`í•´ì‹œ`
ê°ìì˜ˆë¦° ê°í•˜ëŠ˜ ì‚¬ë‘ë¹µ ê°•í¬ë˜ ë¿Œë¦¬â˜† í•œì˜ˆë¦¼ ë–¡ë•s ì‚ì˜¹ ë‚‘í•œì†”â™¥ ë­‰ë‘ ìœ ìš°ì‹ _ ì•¼ë¬´ì§€_ íì¹˜ê³ 
1. ê° ì¥ë¥´ë§ˆë‹¤ ë…¸ë˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ê°€ì§€ê³  ìˆëŠ”ë‹¤.
2. ê°™ì€ ì¥ë¥´ì˜ ë…¸ë˜ê°€ ì…ë ¥ìœ¼ë¡œ ë“¤ì–´ì˜¤ë©´ ì¥ë¥´ì˜ ë…¸ë˜ ë¦¬ìŠ¤íŠ¸ì— ë…¸ë˜ë¥¼ ì¶”ê°€í•˜ê³  í•´ë‹¹ ì¥ë¥´ì˜ ì´ í”Œë ˆì´ íšŸìˆ˜ë¥¼ ì¦ê°€ì‹œí‚¨ë‹¤.
3. ê° ì¥ë¥´ì˜ ë…¸ë˜ ë¦¬ìŠ¤íŠ¸ë¥¼ ë…¸ë˜ í”Œë ˆì´ íšŸìˆ˜, ë…¸ë˜ì˜ Id ê°’ìœ¼ë¡œ ì •ë ¬í•œ í›„ ì¥ë¥´ì˜ ì´ í”Œë ˆì´ íšŸìˆ˜ë¡œ ì¥ë¥´ ë¦¬ìŠ¤íŠ¸ë¥¼ ì •ë ¬í•œë‹¤.
4. ì •ë ¬ëœ ì¥ë¥´ ë¦¬ìŠ¤íŠ¸ë¥¼ í†µí•´ í•´ë‹¹ ì¥ë¥´ì—ì„œ ë…¸ë˜ 2ê³¡ì”©ì„ ì¶”ì¶œí•´ ì•¨ë²”ì„ ì™„ì„±í•œë‹¤.
   * ì¥ë¥´ì— ì†í•œ ë…¸ë˜ê°€ 1ê°œë¼ë©´ 1ê°œë§Œ ë„£ëŠ”ë‹¤.