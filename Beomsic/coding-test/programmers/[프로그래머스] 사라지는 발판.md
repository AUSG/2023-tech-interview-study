## [í”„ë¡œê·¸ë˜ë¨¸ìŠ¤] ì‚¬ë¼ì§€ëŠ” ë°œíŒ

**â—Â 2022 KAKAO BLIND RECRUITMENTP**

[ì‚¬ë¼ì§€ëŠ” ë°œíŒ](https://school.programmers.co.kr/learn/courses/30/lessons/92345)

### ì½”ë“œ

```java
// https://school.programmers.co.kr/learn/courses/30/lessons/92345

public class ì‚¬ë¼ì§€ëŠ”ë°œíŒ {

  public int solution(int[][] board, int[] aloc, int[] bloc) {
    int answer = -1;

    Player playerA = new Player(aloc[0], aloc[1]);
    Player playerB = new Player(bloc[0], bloc[1]);

    Result result = dfs(playerA, playerB, board);
    answer = result.moveCount;

    return answer;
  }

  private class Player {
    int x, y, moveCnt;

    public Player(int x, int y) {
      this.x = x;
      this.y = y;
      moveCnt = 0;
    }
  }

  private Result dfs(Player playerA, Player playerB, int[][] board) {

    int[] dx = {-1, 1, 0, 0};
    int[] dy = {0, 0, -1, 1};

    boolean isWin = false;

    int playerAMoveCnt = playerA.moveCnt;
    int playerBMoveCnt = playerB.moveCnt;
    int playerAx = playerA.x;
    int playerAy = playerA.y;
    int playerBx = playerB.x;
    int playerBy = playerB.y;

    int winMoveCount = board.length * board[0].length;
    int loseMoveCount = playerAMoveCnt + playerBMoveCnt;

    // Aê°€ ì›€ì§ì¼ ì°¨ë¡€ && í˜„ì¬ ë°Ÿê³  ìˆëŠ” ë°œíŒì´ ì›€ì§ì¼ ìˆ˜ ìˆëŠ” ë°œíŒì¸ ê²½ìš°
    if (playerAMoveCnt == playerBMoveCnt && board[playerAx][playerAy] == 1) {

      for (int i = 0; i < 4; i++) {
        int nx = playerAx + dx[i];
        int ny = playerAy + dy[i];

        if(isOutOfBound(nx, ny, board.length, board[0].length)) continue;
        if(board[nx][ny] == 0) continue;

        // ì´ë™
        board[playerAx][playerAy] = 0;
        playerA.x = nx;
        playerA.y = ny;
        playerA.moveCnt++;
        Result opponent = dfs(playerA, playerB, board);
        isWin |= !opponent.isWin;

        // ìƒëŒ€ê°€ ì´ê¸´ê²½ìš° -> ë‚´ê°€ ì§
        if(opponent.isWin) loseMoveCount = Math.max(loseMoveCount, opponent.moveCount);
        else winMoveCount = Math.min(winMoveCount, opponent.moveCount);

        playerA.x = playerAx;
        playerA.y = playerAy;
        playerA.moveCnt--;
        board[playerAx][playerAy] = 1;
      }
    }

    // Bê°€ ì›€ì§ì¼ ì°¨ë¡€
    else if(playerAMoveCnt > playerBMoveCnt && board[playerBx][playerBy] == 1) {

      for (int i = 0; i < 4; i++) {
        int nx = playerBx + dx[i];
        int ny = playerBy + dy[i];

        if(isOutOfBound(nx, ny, board.length, board[0].length)) continue;
        if(board[nx][ny] == 0) continue;

        // ì´ë™
        board[playerBx][playerBy] = 0;
        playerB.x = nx;
        playerB.y = ny;
        playerB.moveCnt++;
        Result opponent = dfs(playerA, playerB, board);
        isWin |= !opponent.isWin;

        // ìƒëŒ€ê°€ ì´ê¸´ê²½ìš° -> ë‚´ê°€ ì§
        if(opponent.isWin) loseMoveCount = Math.max(loseMoveCount, opponent.moveCount);
        else winMoveCount = Math.min(winMoveCount, opponent.moveCount);

        playerB.x = playerBx;
        playerB.y = playerBy;
        playerB.moveCnt--;
        board[playerBx][playerBy] = 1;
      }
    }

    return new Result(isWin, isWin ? winMoveCount : loseMoveCount);
  }

  private boolean isOutOfBound(int x, int y, int row, int col) {
    if(x < 0 || x >= row || y < 0 || y >= col) return true;
    return false;
  }

  private class Result {
    boolean isWin;
    int moveCount;

    public Result(boolean isWin, int moveCount) {
      this.isWin = isWin;
      this.moveCount = moveCount;
    }
  }
}



```

### ğŸ“–Â í•´ê²°ë°©ë²•

`DFS ì™„ì „ íƒìƒ‰`

1. dfsë¥¼ ëŒë©´ì„œ Aì™€ Bê°€ ë²ˆê°ˆì•„ ì›€ì§ì¸ë‹¤. (Aê°€ ë¨¼ì € ì›€ì§ì¸ë‹¤)
2. Aì™€ Bê°€ ë²ˆê°ˆì•„ ì›€ì§ì´ë©´ì„œ ì§€ëŠ” ìƒí™©ì¸ì§€(Boolean), ì›€ì§ì¸ ê±°ë¦¬ë¥¼ ë¦¬í„´
3. return ê°’ì— ìƒëŒ€ê°€ ì§€ëŠ” ê²½ìš°ê°€ ìˆë‹¤ë©´ í•´ë‹¹ í”Œë ˆì´ì–´ëŠ” í•­ìƒ ì´ê¸¸ ìˆ˜ ìˆë‹¤.
4. ìƒëŒ€ê°€ ì´ê²¼ì„ ê²½ìš° ìµœëŒ€í•œ ëŠ¦ê²Œ ì ¸ì•¼ í•˜ë¯€ë¡œ ì›€ì§ì¸ ìµœëŒ€ ê±°ë¦¬ë¥¼ êµ¬í•œë‹¤.
5. ìƒëŒ€ê°€ ì¡Œì„ ê²½ìš° ìµœëŒ€í•œ ë¹¨ë¦¬ ëë‚´ì•¼ í•˜ë¯€ë¡œ ì›€ì§ì¸ ìµœì†Œ ê±°ë¦¬ë¥¼ êµ¬í•œë‹¤.
6. ëª¨ë“  ê²½ìš°ë¥¼ ëŒê³  Aê°€ ì´ê²¼ì„ ê²½ìš° êµ¬í•´ë†“ì€ ìµœì†Œ ê±°ë¦¬ ë¦¬í„´
7. Aê°€ ì§€ëŠ” ê²½ìš°ë°–ì— ì—†ë‹¤ë©´ êµ¬í•´ë†“ì€ ìµœëŒ€ ê±°ë¦¬ ë¦¬í„´